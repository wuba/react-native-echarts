{"version":3,"names":["useComputedValue","cb","values","value","useMemo","ValueApi","createComputedValue","filter","isValue","useEffect","__invalidate"],"sources":["useComputedValue.ts"],"sourcesContent":["import { useEffect, useMemo } from \"react\";\n\nimport { ValueApi } from \"../api\";\nimport { isValue } from \"../../renderer/processors/Animations\";\n\n/**\n * Creates a new computed value - a value that will calculate its value depending\n * on other values.\n * @param cb Callback to calculate new value\n * @param values Dependant values\n * @returns A readonly value\n */\nexport const useComputedValue = <R>(cb: () => R, values: unknown[]) => {\n  const value = useMemo(\n    () => ValueApi.createComputedValue<R>(cb, values.filter(isValue)),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    values\n  );\n  useEffect(() => () => value.__invalidate(), [value]);\n  return value;\n};\n"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMA,gBAAgB,GAAG,CAAIC,EAAJ,EAAiBC,MAAjB,KAAuC;EACrE,MAAMC,KAAK,GAAG,IAAAC,cAAA,EACZ,MAAMC,aAAA,CAASC,mBAAT,CAAgCL,EAAhC,EAAoCC,MAAM,CAACK,MAAP,CAAcC,mBAAd,CAApC,CADM,EAEZ;EACAN,MAHY,CAAd;EAKA,IAAAO,gBAAA,EAAU,MAAM,MAAMN,KAAK,CAACO,YAAN,EAAtB,EAA4C,CAACP,KAAD,CAA5C;EACA,OAAOA,KAAP;AACD,CARM"}